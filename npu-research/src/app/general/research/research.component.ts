import { Component, OnInit } from '@angular/core';

interface Research {
  title: string;
  researchers: string;
}

@Component({
  selector: 'app-research',
  standalone: false,
  templateUrl: './research.component.html',
  styleUrl: './research.component.css',
})
export class ResearchComponent implements OnInit {
  pageSize = 10;
  currentPage = 1;
  searchText = '';

  // ðŸ”¹ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
  reseacrchs: Research[] = [
    {
      title: 'à¸à¸²à¸£à¸žà¸±à¸’à¸™à¸²à¸£à¸°à¸šà¸šà¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸§à¸´à¸ˆà¸±à¸¢',
      researchers: 'à¸”à¸£.à¹€à¸¨à¸£à¸´à¸¢à¸² à¸¡à¸±à¹ˆà¸‡à¸¡à¸µ',
    },
    {
      title: 'à¸œà¸¥à¸à¸£à¸°à¸—à¸šà¸‚à¸­à¸‡à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡à¸ªà¸ à¸²à¸žà¸ à¸¹à¸¡à¸´à¸­à¸²à¸à¸²à¸¨à¸•à¹ˆà¸­à¸à¸²à¸£à¹€à¸à¸©à¸•à¸£',
      researchers: 'à¸œà¸¨.à¸ªà¸¡à¸Šà¸²à¸¢ à¹ƒà¸ˆà¸”à¸µà¸œà¸¨.à¸ªà¸¡à¸Šà¸²à¸¢ à¹ƒà¸ˆà¸”à¸µà¸œà¸¨.à¸ªà¸¡à¸Šà¸²à¸¢ à¹ƒà¸ˆà¸”à¸µ',
    },
    {
      title: 'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
    {
      title:
        'à¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œà¸™à¸§à¸±à¸•à¸à¸£à¸£à¸¡à¸à¸²à¸£à¸œà¸¥à¸´à¸•à¸žà¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ˆà¸²à¸à¸‚à¸¢à¸°à¸­à¸´à¸™à¸—à¸£à¸µà¸¢à¹Œ',
      researchers: 'à¸”à¸£.à¸ªà¸¡à¸«à¸à¸´à¸‡ à¹à¸à¹‰à¸§à¹ƒà¸ª',
    },
  ];

  // ðŸ”¹ à¸«à¸¥à¸±à¸‡à¸„à¹‰à¸™à¸«à¸²
  filteredReseacrchs: Research[] = [];

  // ðŸ”¹ à¹à¸ªà¸”à¸‡à¹ƒà¸™à¸•à¸²à¸£à¸²à¸‡
  paginatedReseacrchs: Research[] = [];

  ngOnInit(): void {
    this.filteredReseacrchs = [...this.reseacrchs];
    this.updatePagination();
  }

  // ===== SEARCH =====
  onSearch(): void {
    const keyword = this.searchText.toLowerCase().trim();

    this.filteredReseacrchs = this.reseacrchs.filter(
      (r) =>
        r.title.toLowerCase().includes(keyword) ||
        r.researchers.toLowerCase().includes(keyword)
    );

    this.currentPage = 1;
    this.updatePagination();
  }

  // ===== PAGINATION =====
  updatePagination(): void {
    const start = (this.currentPage - 1) * this.pageSize;
    const end = start + this.pageSize;

    this.paginatedReseacrchs = this.filteredReseacrchs.slice(start, end);
  }

  changePage(page: number): void {
    if (page < 1 || page > this.totalPages) return;

    this.currentPage = page;
    this.updatePagination();

    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  get totalPages(): number {
    return Math.ceil(this.filteredReseacrchs.length / this.pageSize);
  }
}
